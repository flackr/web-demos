<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>CSS Grid</title>
<link rel="stylesheet" href="../../css/slides.css">
<link rel="stylesheet" href="../../css/coder.css">
<link rel="stylesheet" href="../../css/tabs.css">
<script src="../../js/slides.js" defer></script>
<script src="../../js/live-preview.js" defer></script>
<script src="../../js/coder.js" defer></script>
<style>
html, body {
  margin: 0;
  height: 100%;
}
.slideshow {
  height: 100%;
}
.grid-item {
  background: var(--primary); color: white;
  display: flex; align-items: center; justify-content: center;
  font-size: 1.5rem; font-weight: bold;
  border-radius: 4px; border: 2px solid rgba(255,255,255,0.3);
}
.resizable {
  overflow: hidden;
  resize: both;
  display: flex;
  width: 80%;
  height: 80%;
  padding-bottom: 15px;
  border: 2px dashed var(--primary);
}
</style>
</head>
<body>
<div class="slideshow" role="region">
<div class="scroller">

<div class="slide" title="Title"><div>
  <div style="text-align: center">
    <h1>CSS Grid</h1>
    <p>Getting started with CSS Grid</p>
    <p>-flackr</p>
  </div>
</div></div>

<div class="slide" title="Defining the grid"><div>
  <h2>Defining the Grid</h2>
  <div>
    <p>We use <code>display: grid</code> on the container. We define tracks using <code>grid-template-columns</code> and <code>rows</code>.</p>
    <div class="live code tabs">
      <textarea title="CSS"></textarea>
      <textarea title="HTML"></textarea>
    </div>
  </div>
  <div class="live-edit demo-container">
    <style>
      #grid-basic {
        display: grid;
        height: 100%;
        /* 3 Columns, 3 Rows */
        grid-template-columns: repeat(3, 1fr);
        grid-template-rows: repeat(3, 1fr);
      }
      #grid-basic .grid-item:hover {
        background: #ec4899;
        cursor: pointer;
      }
      .grid-item:nth-child(even) { background: var(--accent); }
    </style>
    
    <div id="grid-basic">
      <div class="grid-item">1</div><div class="grid-item">2</div><div class="grid-item">3</div>
      <div class="grid-item">4</div><div class="grid-item">5</div><div class="grid-item">6</div>
      <div class="grid-item">7</div><div class="grid-item">8</div><div class="grid-item">9</div>
    </div>
  </div>
</div></div>

<div class="slide" title="Gaps"><div>
  <h2>Gaps</h2>
  <div>
    <p>The <code>gap</code> property adds space between tracks without affecting the outer edges or element margins.</p>
    <div class="live code tabs">
      <textarea title="CSS"></textarea>
      <textarea title="HTML"></textarea>
    </div>
  </div>
  <div class="live-edit demo-container">
    <style>
      #grid-gaps {
        display: grid;
        height: 100%;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
      }
    </style>    
    <div id="grid-gaps">
        <div class="grid-item">1</div><div class="grid-item">2</div><div class="grid-item">3</div>
        <div class="grid-item">4</div><div class="grid-item">5</div><div class="grid-item">6</div>
    </div>
  </div>
</div></div>

<div class="slide" title="Spanning items"><div>
  <h2>Spanning Items</h2>
  <div>
    <p>Items can span multiple tracks. Syntax: <code>grid-column: start / end</code> or <code>span X</code>.</p>
    <div class="live code tabs">
      <textarea title="CSS"></textarea>
      <textarea title="HTML"></textarea>
    </div>
  </div>
  <div class="live-edit demo-container">
    <style>
      #grid-span {
        display: grid;
        height: 100%;
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(4, 1fr);
        gap: 10px;
      }
      #item-to-span {
        grid-column: 1 / span 2;
        grid-row: 1 / 3;
        background: #10b981;
        z-index: 10;
      }
    </style>    
    <div id="grid-span">
        <div class="grid-item" id="item-to-span">1</div>
        <div class="grid-item">2</div>
        <div class="grid-item">3</div>
        <div class="grid-item">4</div>
        <div class="grid-item">5</div>
        <div class="grid-item">6</div>
        <div class="grid-item">7</div>
        <div class="grid-item">8</div>
        <div class="grid-item">9</div>
        <div class="grid-item">10</div>
    </div>
  </div>
</div></div>

<div class="slide" title="Alignment (Grid)"><div>
  <h2>Alignment (Grid)</h2>
  <div>
    <p>Align the whole grid within the container using <code>justify-content</code> and <code>align-content</code>.</p>
    <p>Align items inside their cells using <code>justify-items</code> and <code>align-items</code>.</p>
    <div class="live code tabs">
      <textarea title="CSS"></textarea>
      <textarea title="HTML"></textarea>
    </div>
  </div>
  <div class="live-edit demo-container">
    <style>
      #grid-align {
        display: grid;
        height: 100%;
        grid-template-columns: repeat(3, 60px);
        grid-template-rows: repeat(2, 60px);
        gap: 5px;

        /* stretch / center / start / end */
        justify-content: center;
        align-content: center;
      }
      #grid-align .grid-item {
        width: 50px; height: 50px;
      }
    </style>
    <div id="grid-align" style="background: #e2e8f0;">
      <div class="grid-item">1</div><div class="grid-item">2</div><div class="grid-item">3</div>
      <div class="grid-item">4</div><div class="grid-item">5</div><div class="grid-item">6</div>
    </div>
  </div>
</div></div>

<div class="slide" title="Grid placement"><div>
  <h2>Grid placement</h2>
  <div>
    <p>Grid separates <strong>layout</strong> from <strong>source order</strong>. We can move the sidebar anywhere using only CSS.</p>
    <div class="live code tabs">
      <textarea title="CSS"></textarea>
      <textarea title="HTML"></textarea>
    </div>
  </div>
  <div class="live-edit demo-container">
    <style>
      #grid-cells {
        display: grid;
        height: 100%;
        grid-template-columns: 1fr 3fr;
        grid-template-rows: 50px 1fr 50px;
        gap: 10px;
        &>.g-head { grid-row: 1 / 2; grid-column: 1 / -1; background: #ef4444;  }
        &>.g-side { grid-row: 2 / 3; grid-column: 1; background: #3b82f6;  }
        &>.g-main { grid-row: 2 / 3; grid-column: 2; background: #10b981; }
        &>.g-foot { grid-row: 3 / 4; grid-column: 1 / -1; background: #eab308; }
      }
    </style>
    <div id="grid-cells">
      <div class="grid-item g-head">Header</div>
      <div class="grid-item g-side">Sidebar</div>
      <div class="grid-item g-main">Main</div>
      <div class="grid-item g-foot">Footer</div>
    </div>
  </div>
</div></div>

<div class="slide" title="Named grid lines"><div>
  <h2>Named grid lines</h2>
  <div>
    <p>Assign some or all of the lines in your grid a name in the <code>grid-template-columns</code> and <code>rows</code> properties.</p>
    <div class="live code tabs">
      <textarea title="CSS"></textarea>
      <textarea title="HTML"></textarea>
    </div>
  </div>
  <div class="live-edit demo-container">
    <style>
      #grid-names {
        display: grid;
        height: 100%;
        grid-template-columns:
            [main-start] 1fr [content-start] 3fr [main-end];
        grid-template-rows:
            [main-start] 50px [content-start] 1fr [content-end] 50px [main-end];
        gap: 10px;
        &>.g-head { grid-row: main-start; grid-column: main-start / main-end; background: #ef4444; }
        &>.g-side { grid-row: content-start; grid-column: main-start; background: #3b82f6; }
        &>.g-main { grid-row: content-start; grid-column: content-start; background: #10b981; }
        &>.g-foot { grid-row: content-end; grid-column: main-start / main-end; background: #eab308; }
      }
    </style>
    <div id="grid-names">
      <div class="grid-item g-head">Header</div>
      <div class="grid-item g-side">Sidebar</div>
      <div class="grid-item g-main">Main</div>
      <div class="grid-item g-foot">Footer</div>
    </div>
  </div>
</div></div>

<div class="slide" title="Grid Templates"><div>
  <h2>Grid Templates</h2>
  <div>
    <p>
      The <code>grid-template-areas</code> property defines a grid layout in plain text.
      Place elements in named areas with the <code>grid-template-area</code> property.
    </p>
    <div class="live code tabs">
      <textarea title="CSS"></textarea>
      <textarea title="HTML"></textarea>
    </div>
  </div>
  <div class="live-edit demo-container">
    <style>
      #grid-template {
        display: grid;
        height: 100%;
        grid-template-columns: 1fr 3fr;
        grid-template-rows: 50px 1fr 50px;
        gap: 10px;
        /* Visual ASCII Art Layout! */
        grid-template-areas:
          "head head"
          "side main"
          "foot foot";
        
        &>.g-head { grid-area: head; background: #ef4444; }
        &>.g-side { grid-area: side; background: #3b82f6; }
        &>.g-main { grid-area: main; background: #10b981; }
        &>.g-foot { grid-area: foot; background: #eab308; }
      }
    </style>
    <div id="grid-template">
      <div class="grid-item g-head">Header</div>
      <div class="grid-item g-side">Sidebar</div>
      <div class="grid-item g-main">Main</div>
      <div class="grid-item g-foot">Footer</div>
    </div>
  </div>
</div></div>

<div class="slide" title="Responsive Layout"><div>
  <h2>Responsive Layout</h2>
  <div>
    <p>
      Combined with <code>@media</code> and <code>@container</code> queries,
      responsive layouts can easily be defined.
    </p>
    <div class="live code tabs">
      <textarea title="CSS"></textarea>
      <textarea title="HTML"></textarea>
    </div>
  </div>
  <div class="live-edit demo-container">
    <style>
      #grid-dynamic {
        display: grid;
        height: 100%;
        gap: 10px;

        grid-template-columns: 1fr 3fr;
        grid-template-rows: 50px 1fr 50px;
        grid-template-areas:
          "head head"
          "side main"
          "foot foot";

        @container (width < 400px) {
          grid-template-columns: 1fr;
          grid-template-rows: 50px 1fr 5fr 50px;
          grid-template-areas:
            "head"
            "side"
            "main"
            "foot";
        }
        
        &>.g-head { grid-area: head; background: #ef4444; }
        &>.g-side { grid-area: side; background: #3b82f6; }
        &>.g-main { grid-area: main; background: #10b981; }
        &>.g-foot { grid-area: foot; background: #eab308; }
      }

      #grid-container {
        container-type: size;
        width: 90%; height: 90%;
        /* Just to make the container resizable. */
        overflow: hidden;
        resize: both;
      }
    </style>
    <div id="grid-container">
      <div id="grid-dynamic">
        <div class="grid-item g-head">Header</div>
        <div class="grid-item g-side">Sidebar</div>
        <div class="grid-item g-main">Main</div>
        <div class="grid-item g-foot">Footer</div>
      </div>
    </div>
  </div>
</div></div>

<div class="slide" title="Case study: Keyboard"><div>
  <h2>Case study: Keyboard</h2>
  <div>
    <div class="live code tabs">
      <textarea title="CSS"></textarea>
      <textarea title="HTML"></textarea>
      <textarea title="JS"></textarea>
    </div>
  </div>
  <div class="live-edit demo-container">
    <style>
      #keyboard {
        display: grid;
        gap: 10px;
        border-radius: 8px;
        background: #777;
        padding: 10px;
        grid-template-areas:
            "q q w w e e r r t t y y u u i i o o p p"
            ". a a s s d d f f g g h h j j k k l l ."
            "R R R z z x x c c v v b b n n m m B B B";
      }
      .key {
        background: #ccc;
        border-radius: 5px;
        text-align: center;
        line-height: 3em;
        cursor: pointer;
        &:hover {
          background: #eee;
        }
        &:active {
          background: #aaa;
        }
      }
      #keyboard-container {
        display: grid;
        grid-template-rows: 1fr min-content;
        height: 100%;
        & > .scroller {
          overflow: auto;
        }
      }
    </style>
    <div id="keyboard-container">
      <div class="scroller">
        <div id="editcontent" contenteditable="true">
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        </div>
      </div>
      <div id="keyboard"></div>
    </div>
    <script>
      function initKB() {
        const kb = document.querySelector('#keyboard');
        const areas = new Set([...getComputedStyle(kb).gridTemplateAreas.matchAll(/"([^"]*)"/g)].map(r => r[1]).join(' ').split(' '));
        const labels = {
          'R': 'Return',
          'B': 'Backspace',
        };
        for (const area of areas) {
          if (area == '.') continue;
          const key = document.createElement('div');
          key.style.gridArea = area;
          key.classList.add('key');
          key.textContent = labels[area] || area;
          kb.appendChild(key);
          key.addEventListener('mousedown', (evt) => {
            evt.preventDefault();
          });
          key.addEventListener('click', (evt) => {
            const el = document.activeElement;
            if (area == 'B') {
              document.execCommand('delete');
            } else if (area == 'R') {
              document.execCommand('insertLineBreak');
            } else {
              document.execCommand('insertText', false, area);
            }
            evt.preventDefault();
          });
        }
      }
      requestAnimationFrame(initKB);
    </script>
  </div>
</div></div>

<div class="slide" title="Case Study: Crosswordle"><div>
  <h2>Case Study: Crosswordle</h2>
  <div>
    <div class="resizable">
      <iframe src="https://crosswordle.serializer.ca/"></iframe>
    </div>
  </div>
</div></div>

<div class="slide" title="Case Study: Slides"><div>
  <h2>Case Study: Slides</h2>
  <div>
    <p>This presentation itself uses grid to produce the single or two-column slide layout.</p>
    <div class="live code tabs">
      <textarea title="CSS"></textarea>
    </div>
    <div class="live-edit">
      <style>
        .slideshow > .scroller > div > div {
          display: grid;
          padding: 3rem;
          grid-template-rows: minmax(min-content, 1fr) 10fr;
          grid-auto-columns: 1fr;

          & > h1,h2,h3,h4 {
            grid-row: 1;
            grid-column: 1 / -1;
          }
          & > * {
            grid-row: 2;
            display: flex;
            flex-direction: column;
            padding: 0.5rem;

            /* Span the whole grid if only child. */
            &:only-child {
              grid-row: 1 / -1;
              grid-column: 1 / -1;
              align-self: center;
              justify-self: center;
            }
          }
        }
      </style>
    </div>
  </div>
</div></div>

<div class="slide" title="Conclusion"><div>
  <h2>Conclusion</h2>
  <div>
    <p>Grid is extremely useful. This presentation has barely scraped the surface of what you can do with it.</p>
    <p>Prominent features not covered here include</p>
    <ul>
      <li>subgrid for aligning grids within grids</li>
      <li>grid-lanes CSSWG proposal for "masonry" style layouts</li>
      <li>And much more...</li>
    </ul>
  </div>
</div></div>


<!-- Blank slide template.
<div class="slide" title="Blank"><div>
  <h2>Blank</h2>
  <div>
    <p>Blank.</p>
    <div class="live code tabs">
      <textarea title="CSS"></textarea>
      <textarea title="HTML"></textarea>
    </div>
  </div>
  <div class="live-edit demo-container">
    <style>
    </style>
  </div>
</div></div>
-->

</div>
</div>
</body>
</html>